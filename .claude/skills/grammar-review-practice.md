# 錯題複習練習生成

此 skill 用於針對 `Review/` 資料夾中的錯題，生成新的練習題進行複習，並在批改後更新錯題清單。

## 使用時機

當用戶說：
- 「幫我複習昨日錯誤的文法點」
- 「複習錯題」
- 「針對錯題出練習題」
- 「做個 10 題複習練習」

## 工作流程

### Step 1: 讀取最近的錯題檔案

從 `Review/` 資料夾讀取最近的錯題檔案：

```
Review/YYYY-MM-DD_errors.md
```

若有多個檔案，優先讀取最近日期的錯題檔案。

### Step 2: 展示錯題摘要供用戶複習

以簡潔的格式顯示錯題重點：

```markdown
## 📝 昨日錯題複習

### 1️⃣ 〜合う（互相～）
**常見搭配：「と」→「〜合う」**
例：部長と話し合う

### 2️⃣ 〜上がる vs 〜上げる
**關鍵區別：**
- を → 上げる（他動詞）
- が → 上がる（自動詞）

[顯示所有錯題重點...]

## 🎯 快速口訣
[顯示記憶卡表格]
```

### Step 3: 詢問用戶是否要做練習

告知用戶：
- 你想要針對這些文法點做一些練習題嗎？
- 預設 10 題，可依用戶要求調整數量

### Step 4: 生成練習題

根據錯題中的文法點，生成練習題（預設 10 題）。

#### 出題規則

1. **涵蓋所有錯題文法點**
   - 確保每個文法點至少出現 1-2 題
   - 題目分布均勻

2. **題型設計**
   - 填空選擇題
   - 1 個正解 + 3 個干擾選項
   - 干擾選項應該是容易混淆的用法

3. **題目難度**
   - 與原錯題類似但不完全相同
   - 考察相同的文法概念但換不同情境

4. **避免洩題**
   - 題目標題**不顯示文法點**（只顯示「第1題」）
   - 讓用戶憑實力判斷該用哪個文法

#### 題目範例

```markdown
### 第1題
二人は長い時間（　　）、やっと意見がまとまった。

1. 話して
2. 話し合って
3. 話された
4. 話し合われて

**我的答案：**
```

### Step 5: 建立練習檔案

在 `Practice/` 資料夾創建檔案。

**命名格式：** `YYYY-MM-DD_N[等級]_review.md`

**範例：** `Practice/2026-01-12_N3_review.md`

**檔案結構：**

```markdown
# N3 文法複習練習 - YYYY-MM-DD

**來源：** 昨日錯題複習（文法點列表）
**題數：** 10 題
**日期：** YYYY-MM-DD

---

## 練習題

### 第1題
[題目內容]

1. [選項1]
2. [選項2]
3. [選項3]
4. [選項4]

**我的答案：**

---

[重複 10 題]

---

## 批改結果

（完成後由 AI 批改）
```

### Step 6: 等待用戶作答

告知用戶：
- 檔案位置：`Practice/YYYY-MM-DD_N3_review.md`
- 作答方式：在「**我的答案：**」欄位填入數字 1-4
- 完成後告知即可批改

### Step 7: 批改與解析

收到用戶答案後，進行批改並**更新練習檔案**。

#### 批改後的檔案格式

```markdown
# N3 文法複習練習 - YYYY-MM-DD

**來源：** 昨日錯題複習（文法點列表）
**題數：** 10 題
**日期：** YYYY-MM-DD

---

## 練習題

### 第1題
[原題目]

1. 選項1
2. **選項2** ← 正解
3. 選項3
4. 選項4

**我的答案：** [用戶答案]

---

[保留所有原題目]

---

## 批改結果

**成績：X/10 題正確（XX%）**

---

### 第1題 ✓ 或 ❌
**你的答案：** [數字]. [選項內容]
**正解：** [數字]. [選項內容]

> 完整句子（含漢字[振假名]標記）

**翻譯：** 中文翻譯

**解析：** 為什麼這個答案正確，其他選項為什麼錯誤

---

[重複所有題目]

---

## 錯題總結

你答錯的 X 題都有明確的規則：

### ❌ 第X題：[錯誤類型]

[詳細說明]

| 規則 | 範例 |
|:---|:---|
| ... | ... |

---

## 重點整理

| 文法 | 關鍵規則 |
|:---|:---|
| 文法1 | 規則說明 |
| 文法2 | 規則說明 |
```

#### 漢字標記規則

使用振假名格式：`漢字[讀音]`

```
正確：その 問題[もんだい]について、部長[ぶちょう]と 話[はな]し合[あ]う
錯誤：その問題について、部長と話し合う
```

### Step 8: 更新錯題清單

將本次練習的**新錯題**加入到 `Review/YYYY-MM-DD_errors.md`。

#### 更新方式

1. **讀取原錯題檔案**
2. **在快速記憶卡前面加入新錯題**：

```markdown
---

## 錯題5｜[文法點]

**題目：**
> 原題目

**正解：[正確答案]**

> 正解句（含漢字標記）

**翻譯：** 中文翻譯

**重點：** 記憶要點

---
```

3. **更新快速記憶卡**：加入新文法點的口訣

### Step 9: 回報成績與建議

批改完成後，向用戶回報：
- 得分（如 7/10）
- 錯題的重點提示
- 已更新錯題清單到 `Review/`
- 詢問是否繼續練習

## 重要規則

### 出題規則

- 題目標題**不顯示文法點**（避免洩題）
- 每個錯題文法點至少出現 1-2 題
- 題目情境要多樣化（不要重複類似句子）
- 干擾選項要合理且容易混淆
- 選項使用數字（1, 2, 3, 4），不是字母

### 批改規則

- 必須包含漢字標記（振假名）
- 必須包含中文翻譯
- 解析要說明「為什麼對」和「為什麼錯」
- 要有錯題總結和重點整理表格
- 標記格式：✓（正確）、❌（錯誤）

### 錯題更新規則

- 只加入**本次答錯的題目**到 Review/
- 保留原有的錯題記錄
- 更新快速記憶卡表格
- 不刪除已掌握的錯題（供日後回顧）

### 檔案規則

- 練習檔案：`Practice/YYYY-MM-DD_N[等級]_review.md`
- 錯題檔案：`Review/YYYY-MM-DD_errors.md`
- 批改後直接更新原檔案（不另建新檔）
- 答案欄位使用「**我的答案：**」

## 與其他 Skills 的區別

| Skill | 功能 | 來源 |
|:---|:---|:---|
| `grammar-practice.md` | 從文法 CSV 生成新練習 | `Grammar/N3/*.csv` |
| `grammar-review.md` | 展示錯題供快速複習 | `Review/*.md` |
| **`grammar-review-practice.md`** | **針對錯題生成練習題** | **`Review/*.md`** |

## 範例對話流程

**用戶：** 可以幫我複習昨日錯誤的文法點嗎？

**Claude：**
1. 讀取 `Review/2026-01-12_errors.md`
2. 展示錯題摘要和快速記憶卡
3. 詢問：「你想要針對這些文法點做一些練習題嗎？」

**用戶：** 好的先來做個十題

**Claude：**
1. 生成 10 題針對錯題文法點的練習
2. 建立 `Practice/2026-01-12_N3_review.md`
3. 告知用戶開始作答

**用戶：** 我寫好了

**Claude：**
1. 讀取用戶答案
2. 批改並更新檔案加入翻譯、漢字標記、解析
3. 將新錯題加入 `Review/2026-01-12_errors.md`
4. 回報成績和錯題重點
5. 詢問是否繼續練習

## 輸出檔案位置

```
nihongo_cc/
├── Practice/
│   └── YYYY-MM-DD_N[等級]_review.md  # 新建練習檔案
└── Review/
    └── YYYY-MM-DD_errors.md           # 更新錯題清單
```

## 複習策略建議

### 出題分布

| 文法點數量 | 建議題數 | 每個文法點 |
|:---|:---|:---|
| 2-3 個 | 6 題 | 2-3 題/個 |
| 4-5 個 | 10 題 | 2 題/個 |
| 6+ 個 | 15 題 | 2-3 題/個 |

### 題型變化

- 同一文法點要用不同情境
- 混合自他動詞、助詞搭配、形態變化等考點
- 避免連續出現相同文法點的題目

### 錯題追蹤

- 如果同一文法點連續 2 次答錯，標記為「重點弱項」
- 建議用戶額外針對該文法點加強練習
- 可以使用 NotebookLM 查詢該文法的更多例句
